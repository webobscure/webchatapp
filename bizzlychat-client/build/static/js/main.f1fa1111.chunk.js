(this["webpackJsonpbizzlychat-client"]=this["webpackJsonpbizzlychat-client"]||[]).push([[0],{138:function(e,t){},141:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},207:function(e,t){},209:function(e,t){},216:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var n,c=a(0),r=a.n(c),s=a(13),l=a.n(s),o=a(21),i=a(1),m=a(82),u=a(83),f=a(92),E=a(90),b=a(89),A=(a(98),[{value:"F.R.I.E.N.D.S.",label:"F.R.I.E.N.D.S."},{value:"American Horror Story",label:"American Horror Story"},{value:"The Big Bang Theory",label:"The Big Bang Theory"},{value:"Gravity Falls",label:"Gravity Falls"},{value:"The Simpsons",label:"The Simpsons"}]),g=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState({room:t.value},(function(){return console.log(e.state.room)})),e.setState({selectedOption:t},(function(){return console.log("Option selected:",e.state.selectedOption)}))},e.inputPressed=function(t){e.setState({name:t.target.value})},e.state={name:"",room:"",selectedOption:null},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.room,a=e.name,n=e.selectedOption;return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"joinOuterContainer"},r.a.createElement("div",{className:"joinInnerContainer"},r.a.createElement("h1",{className:"head"},"Gardi-systems"),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Your name",className:"joinInput",type:"text",onChange:this.inputPressed,value:a})),r.a.createElement("div",null,r.a.createElement(b.a,{value:n,onChange:this.handleChange,options:A,className:"mt-20"})),r.a.createElement(o.b,{onClick:function(e){return a&&t?null:e.preventDefault()},to:"/chat?name=".concat(a,"&room=").concat(t)},r.a.createElement("button",{className:"button mt-20",type:"submit",value:"Submit"},"Sign in room")),r.a.createElement(o.b,{onClick:function(e){return a&&t?null:e.preventDefault()},to:"/chatweb?name=".concat(a,"&room=").concat(t)},r.a.createElement("button",{className:"button mt-20",type:"submit",value:"Submit"},"Sign in webroom")))))}}]),a}(c.Component),v=a(91),d=a(3),p=a(29),h=a.n(p),O=a(30),j=a.n(O),N=a(31),S=a.n(N),y=(a(141),function(e){var t=e.users;return r.a.createElement("div",{className:"textContainer"},t?r.a.createElement("div",null,r.a.createElement("h1",null,"People currently chatting:"),r.a.createElement("div",{className:"activeContainer"},r.a.createElement("h2",null,t.map((function(e){var t=e.name;return r.a.createElement("div",{key:t,className:"activeItem"},t,r.a.createElement("img",{className:"online",alt:"Online Icon",src:S.a}))}))))):null)}),C=a(86),I=a.n(C),x=a(87),k=a.n(x),w=(a(188),a(47)),R=a.n(w),B=function(e){var t=e.message,a=t.text,n=t.user,c=e.name,s=!1,l=k()().format("h:mm a"),o=c.trim().toLowerCase();return n===o&&(s=!0),s?r.a.createElement("div",{className:"messageContainer justifyEnd"},r.a.createElement("p",{className:"sentText pr-10"}," ",l," "),r.a.createElement("p",{className:"sentText pr-10"},o),r.a.createElement("div",{className:"messageBox backgroundBlue"},r.a.createElement("p",{className:"messageText colorWhite"},R.a.emojify(a)))):r.a.createElement("div",{className:"messageContainer justifyStart"},r.a.createElement("div",{className:"messageBox backgroundLight"},r.a.createElement("p",{className:"messageText colorDark"},R.a.emojify(a))),r.a.createElement("p",{className:"sentText pl-10 "},n),r.a.createElement("p",{className:"sentText pl-10"}," ",l))},T=(a(189),function(e){var t=e.messages,a=e.name,n=e.time;return r.a.createElement(I.a,{className:"messages"},t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(B,{message:e,name:a,time:n}))})))}),U=a(88),D=a.n(U),M=(a(190),function(e){var t=e.room;return r.a.createElement("div",{className:"infoBar"},r.a.createElement("div",{className:"leftInnerContainer"},r.a.createElement("img",{className:"onlineIcon",src:S.a,alt:"online icon"}),r.a.createElement("h3",null,t)),r.a.createElement("div",{className:"rightInnerContainer"},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:D.a,alt:"close icon"}))))}),P=(a(191),function(e){var t=e.setMessage,a=e.sendMessage,n=e.message;return r.a.createElement("form",{className:"form"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Type a message...",value:n,onChange:function(e){var a=e.target.value;return t(a)},onKeyPress:function(e){return"Enter"===e.key?a(e):null}}),r.a.createElement("button",{className:"sendButton",onClick:function(e){return a(e)}},"Send"))}),Y=(a(192),function(e){var t=e.location,a=Object(c.useState)(""),s=Object(d.a)(a,2),l=s[0],o=s[1],i=Object(c.useState)(""),m=Object(d.a)(i,2),u=m[0],f=m[1],E=Object(c.useState)(""),b=Object(d.a)(E,2),A=b[0],g=b[1],p=Object(c.useState)(""),O=Object(d.a)(p,1)[0],N=Object(c.useState)(""),S=Object(d.a)(N,2),C=S[0],I=S[1],x=Object(c.useState)([]),k=Object(d.a)(x,2),w=k[0],R=k[1],B="https://gardi-systems.herokuapp.com/";Object(c.useEffect)((function(){var e=h.a.parse(t.search),a=e.name,c=e.room;n=j.a.connect(B),f(c),o(a),n.emit("join",{name:a,room:c},(function(e){e&&alert(e)}))}),[B,t.search]),Object(c.useEffect)((function(){n.on("message",(function(e){R((function(t){return[].concat(Object(v.a)(t),[e])}))})),n.on("roomData",(function(e){var t=e.users;g(t)}))}),[]);return r.a.createElement("div",{className:"outerContainer"},r.a.createElement("div",{className:"container"},r.a.createElement(M,{room:u}),r.a.createElement(T,{messages:w,name:l,time:O}),r.a.createElement(P,{message:C,setMessage:I,sendMessage:function(e){e.preventDefault(),C&&n.emit("sendMessage",C,(function(){return I("")}))}})),r.a.createElement(y,{users:A}))}),G=a(48),Q=a.n(G),F=(a(216),function(e){var t,a,n,s=e.location,l=Object(c.useState)(""),o=Object(d.a)(l,2),i=o[0],m=o[1],u=Object(c.useState)(""),f=Object(d.a)(u,2),E=f[0],b=f[1],A=Object(c.useState)(""),g=Object(d.a)(A,2),v=g[0],p=g[1],O=Object(c.useState)(),N=Object(d.a)(O,2),S=N[0],y=N[1],C=Object(c.useState)(!1),I=Object(d.a)(C,2),x=I[0],k=I[1],w=Object(c.useState)(""),R=Object(d.a)(w,2),B=R[0],T=R[1],U=Object(c.useState)(),D=Object(d.a)(U,2),P=D[0],Y=D[1],G=Object(c.useState)(!1),F=Object(d.a)(G,2),K=F[0],J=F[1],z=Object(c.useState)({}),V=Object(d.a)(z,2),W=V[0],L=V[1],q=Object(c.useRef)(),X=Object(c.useRef)(),Z=Object(c.useRef)();return Object(c.useEffect)((function(){var e=h.a.parse(s.search),t=e.name,a=e.room;b(t),p(a),Z.current=j.a.connect("http://localhost:8080/"),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){y(e),q.current&&(q.current.srcObject=e)})),Z.current.on("yourID",(function(e){m(e)})),Z.current.on("allUsers",(function(e){L(e)})),Z.current.on("hey",(function(e){k(!0),T(e.from),Y(e.signal)}))}),["http://localhost:8080/",s.search]),S&&(t=r.a.createElement("video",{className:"video-grid",playsInline:!0,muted:!0,ref:q,autoPlay:!0})),K&&(a=r.a.createElement("video",{className:"video-grid",playsInline:!0,ref:X,autoPlay:!0})),x&&(n=r.a.createElement("div",null,r.a.createElement("h1",null,B," is calling you"),r.a.createElement("button",{className:"incoming",onClick:function(){J(!0);var e=new Q.a({initiator:!1,trickle:!1,stream:S});e.on("signal",(function(e){Z.current.emit("acceptCall",{signal:e,to:B})})),e.on("stream",(function(e){X.current.srcObject=e})),e.signal(P)}},"Accept"))),r.a.createElement("div",{className:"box"},r.a.createElement(M,{room:v}),r.a.createElement("div",{className:"row"},t,a),r.a.createElement("div",{className:"row"},Object.keys(W).map((function(e){return e===i?null:r.a.createElement("button",{key:e,className:"incoming",onClick:function(){return function(e){var t=new Q.a({initiator:!0,trickle:!1,stream:S});t.on("signal",(function(t){Z.current.emit("callUser",{userToCall:e,signalData:t,from:i})})),t.on("stream",(function(e){X.current&&(X.current.srcObject=e)})),Z.current.on("callAccepted",(function(e){J(!0),t.signal(e)}))}(e)}},"Call ",e," : ",E)}))),r.a.createElement("div",{className:"row"},n))}),K=function(){return r.a.createElement(o.a,null,r.a.createElement(i.a,{path:"/",exact:!0,component:g}),r.a.createElement(i.a,{path:"/chat",render:function(e){return r.a.createElement(Y,e)}}),r.a.createElement(i.a,{path:"/chatweb",render:function(e){return r.a.createElement(F,e)}}))};l.a.render(r.a.createElement(K,null),document.querySelector("#root"))},31:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII="},88:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII="},93:function(e,t,a){e.exports=a(217)},98:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.f1fa1111.chunk.js.map